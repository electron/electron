# Швидкий старт

Electron дозволяє вам робити додатки на робочий стіл на чистому Javascript,
через багатий API. Ви можете представляти його як Node.js додаток, який
орієнтований для робочого стола, а не для веб сервера.

Але це не означає, що Electron лиш привязка до GUI бібліотекам. На справді
Electron використовує веб-сторінки як інтерфейс, так що його можна рахувати
як невеличким Chroumium браузером, який контролюється за допомогою Javascript.

### Головний процес

В Electron процес, який запускає `main` з `package.json` називається
__головним процемос__. Скрипт, який працює в головному процесі може показувати
GUI, створюючи веб-сторінки

### Процес-рендерер

Так як Electron використовує Chromium для показу веб-сторінок,
мульти-процесову архітектуру показу сторінок Chromium він теж використовує.
Кожна веб-сторінка в Electron працює в своєму власному процесі,
який називається __процес-рендерер__

В звичайних браузерах веб-сторінки зазвичай запускаються в "пісочниці" і їм недоступні реальні ресурси комп'ютера. Користувачі Electron навпроти можуть використовувати API Node.js на сторінках, що використовує більш низькорівневу роботу з операційними системами.

### Різниця між головним процесором і процесором-рендерером

Головний процес створює веб-сторінки використовує `BrowserWindow`. Кожен
екземпляр `BrowserWindow` показує веб сторінку через свій власний процесор-рендерер.
Якщо екземпляр `BrowserWindow` знищується, то і відповідний процесор-рендерер теж
завершується.

Головний процес керує всіма веб-сторінками і відповідними їм процесами-рендерами.
Кожний процес-рендерер ізольований і керує тільки своєю веб-сторінкою.

На веб-сторінках не дозволяється викликати нативні API, які керують GUI,
тому що це дуже небезпечно і може легко викликати витік ресурсів. Якщо ви хочете
виконати дії з GUI на сторінці, процес-рендерер цієї сторінки повинен
"Попросити" головний процес зробити ці дії.

У Electron є декілька способів спілкування між процесам. Наприклад, модулі
[`ipcRenderer`]../../../docs/api/ipc-renderer.md) и [`ipcMain`](../../../docs/api/ipc-main.md) використовується
для відправки повідомлень, а [remote](https://electron.atom.io/docs/api/remote/) - для комунікації в RPC стилі.


## Перший додаток на Electron

Як правило, додаток Electron структуровано наступним чином:

```text
your-app/
├── package.json
├── main.js
└── index.html
```

Формат `package.json` точно такий же, як у модулів Node і скрипт, оголошення
як `main`, буде виконуватися під час запуску вашого застосування, працюючи в
головному процесі. Наприклад, Ваш `package.json` може виглядати ось так:

```javascripton
{
  "name"    : "your-app",
  "version" : "0.1.0",
  "main"    : "main.js"
}
```

__Замітка__: Якщо поле `main` відсутнє в `package.json`, Electron попробує
загрузити `index.js`.


`main.js` повинен створювати вікно і керувати системними подіями,
типовий приклад

```javascript
const electron = require('electron')
// Модуль, який контролює основне: сам Electron.
const app = electron.app
// Модуль, який створює вікно додатка.
const BrowserWindow = electron.BrowserWindow

// Утримуйте глобальне звернення до об'єкту вікна, якщо Ви так не зробите, то
// вікно саме закриється після того, як об'єкт буде зібраний складальником сміття.
let mainWindow

function createWindow () {
  // Створюємо вікно браузера
  mainWindow = new BrowserWindow({width: 800, height: 600})

  // і загружаємо index.html додаток.
  mainWindow.loadURL(`file://${__dirname}/index.html`)

  // Відкриваємо DevTools.
  mainWindow.webContents.openDevTools()

  // Буде виконано, коли користувач закриє вікно
    mainWindow.on('closed', function () {    
  // Прибрати звернення на об'єкт вікна, зазвичай варто зберігати вікна в масиві,
  // якщо ваш додаток підтримує кілька, зараз варто видалити
  // відповідний елемент.
    mainWindow = null
  })
}

// Цей метод буде викликаний, коли Electron закінчить ініціалізацію
// і буде готовий створювати вікна браузера.
// Деякі API можливо використовувати тільки після того, як
// це станеться.
app.on('ready', createWindow)

// Вийти, коли всі вікна закриті
app.on('window-all-closed', function () {
  // На macOS додатках і його рядок меню зазвичай залишаються активними,
  // поки користувач не завершить їх за допомогою `Cmd + Q`.
  if (process.platform !== 'darwin') {
    app.quit()
  }
})

app.on('activate', function () {
  // На macOS додатках зазвичай перестворюється вікно, коли
  // користувач клікає на його іконку в доці, якщо не відкрито
  // інших вікон.
  if (mainWindow === null) {
    createWindow()
  }
})

// В цей файл Ви можете включити решту коду вашого головного процесу.
// Ви також можете розкласти його по окремих файлів і підключити за допомогою require.
```

Нарешті, `index.html`, сторінка, яку ви хочете показати:

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <h1>Привіт, світ!</h1>
    Ми використовуємо Node <script>document.write(process.versions.node)</script>,
    Chrome <script>document.write(process.versions.chrome)</script>,
    и Electron <script>document.write(process.versions.electron)</script>.
  </body>
</html>
```

## Запуск вашого додатка

Після того як Ви створили `main.js`,` index.html` і `package.json` Вам швидше за все захочеться
запустити додаток, щоб перевірити, що воно працює так, як треба.

### electron-prebuilt

[`electron-prebuilt`](https://github.com/electron-userland/electron-prebuilt) — `npm` модуль,
який містить прекомпільовану версію Electron.

Якщо ви встановили Electron глобально через `npm`, то Вам потрібно буде всього лише
запустити наступне в папці вашого проекту:

```bash
electron .
```

Якщо ви встановили Electron локально, то виконайте наступне:

```bash
./node_modules/.bin/electron .
```

### Виконані файли Electron, викачані вручну

Якщо Ви завантажили Electron вручну, то Ви можете використовувати
виконані файли прямо в папці вашого проекту.

#### Windows

```bash
$ .\electron\electron.exe your-app\
```

#### Linux

```bash
$ ./electron/electron your-app/
```

#### macOS

```bash
$ ./Electron.app/Contents/MacOS/Electron your-app/
```

`Electron.app` — частина реалізного пакету Electron, Ви можете завантажити його
[тут](https://github.com/electron/electron/releases).

### Запустити як дистрибутив

Коли Ви закінчили написання вашого застосування, Ви можете створити
дистрибутив, слідуючи інструкціям [звідси] (./ application-distribution.md) і
потім запустити отриманий додаток.

### Спробуйте наступний приклад

Скопіюйте та запустіть цей навчальний код, використовуючи репозиторій [`atom/electron-quick-start`](https://github.com/electron/electron-quick-start)

**Замітка**: Для запуску потрібно [Git](https://git-scm.com) і [Node.js](https://nodejs.org/en/download/) (який
включає в себе [npm](https://npmjs.org)).

```bash
# Клонуємо репозиторій
$ git clone https://github.com/electron/electron-quick-start
# Переходимо в папку скачаного репозиторія
$ cd electron-quick-start
# Встановлюємо залежності і запускаємо
$ npm install && npm start
```

